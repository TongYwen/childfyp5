<div class="container-fluid mt-3">
     <h2 class="mb-1">
        Educational Resources Hub
    </h2>
    <small class="text-muted">
        </small>

            <!-- Filter -->
    <form method="get" class="row g-2 my-4">
        <div class="col-md-4">
            <label class="form-label">Filter by type</label>
            <select name="type" class="form-select">
                <option value="">All types</option>
                {% for t in resource_types %}
                    <option value="{{ t }}" {% if selected_type == t %}selected{% endif %}>
                        {{ t|capitalize }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-2 d-flex align-items-end">
            <button class="btn btn-primary w-100">Apply Filter</button>
        </div>
    </form>

    <!-- Grouped Resources -->
    {% if grouped_resources %}
        {% for category, items in grouped_resources.items() %}
            <!-- Category Header -->
            <h4 class="mt-4 mb-3 text-uppercase fw-bold">{{ category }}</h4>
            <hr style="margin-top: 0;">

            <div class="row">
                {% for r in items %}
                    <div class="col-md-6 col-lg-4 mb-3">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body d-flex flex-column">

                                <h6 class="card-title mb-1">{{ r.title }}</h6>

                                {% if r.age_min or r.age_max %}
                                    <p class="small text-muted mb-1">
                                        Recommended age:
                                        {% if r.age_min and r.age_max %}
                                            {{ r.age_min }} â€“ {{ r.age_max }} years
                                        {% elif r.age_min %}
                                            {{ r.age_min }}+ years
                                        {% else %}
                                            Up to {{ r.age_max }} years
                                        {% endif %}
                                    </p>
                                {% endif %}

                                {% if r.description %}
                                    <p class="small mb-2">{{ r.description }}</p>
                                {% endif %}

                                <a href="{{ r.url }}" target="_blank"
                                   class="btn btn-sm btn-primary mt-auto">
                                    Open Resource
                                </a>

                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>

        {% endfor %}
    {% else %}
        <div class="alert alert-info mt-4">No resources found.</div>
    {% endif %}

</div>

